"""
–ú–æ–¥—É–ª—å –¥–æ–ø–æ–º–æ–≥–∏ –¥–ª—è –±–æ—Ç–∞ FinAssist.
MVP –≤–µ—Ä—Å—ñ—è –∑ —á–∞—Å—Ç–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–º–∏ –ø–∏—Ç–∞–Ω–Ω—è–º–∏, –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –±–æ—Ç–∞.
"""

from telegram import InlineKeyboardButton, InlineKeyboardMarkup
import logging

logger = logging.getLogger(__name__)

# ==================== –ì–û–õ–û–í–ù–ï –ú–ï–ù–Æ –î–û–ü–û–ú–û–ì–ò ====================

async def show_help_menu(query, context):
    """–ü–æ–∫–∞–∑—É—î –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é –¥–æ–ø–æ–º–æ–≥–∏"""
    try:
        keyboard = [
            [
                InlineKeyboardButton("üìã –ß–∞—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è (FAQ)", callback_data="help_faq")
            ],
            [
                InlineKeyboardButton("üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏", callback_data="help_contacts"),
                InlineKeyboardButton("‚ÑπÔ∏è –ü—Ä–æ –±–æ—Ç–∞", callback_data="help_about")
            ],
            [
                InlineKeyboardButton("üîô –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é", callback_data="back_to_main")
            ]
        ]
        
        text = (
            "‚ùì **–î–æ–ø–æ–º–æ–≥–∞ FinAssist**\n\n"
            "–í—ñ—Ç–∞—î–º–æ –≤ —Ä–æ–∑–¥—ñ–ª—ñ –¥–æ–ø–æ–º–æ–≥–∏! –¢—É—Ç –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à—ñ –ø–∏—Ç–∞–Ω–Ω—è.\n\n"
            "üìã *–ß–∞—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è* ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è\n"
            "üìû *–ö–æ–Ω—Ç–∞–∫—Ç–∏* ‚Äî —è–∫ –∑–≤'—è–∑–∞—Ç–∏—Å—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é\n"
            "‚ÑπÔ∏è *–ü—Ä–æ –±–æ—Ç–∞* ‚Äî —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Ç–∞ –≤–µ—Ä—Å—ñ—é\n\n"
            "üí° *–ü—ñ–¥–∫–∞–∑–∫–∞:* –ë—ñ–ª—å—à—ñ—Å—Ç—å –ø–∏—Ç–∞–Ω—å –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ FAQ"
        )
        
        await query.edit_message_text(
            text=text,
            reply_markup=InlineKeyboardMarkup(keyboard),
            parse_mode="Markdown"
        )
        
    except Exception as e:
        logger.error(f"Error in show_help_menu: {str(e)}")
        await query.edit_message_text(
            "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –º–µ–Ω—é –¥–æ–ø–æ–º–æ–≥–∏",
            reply_markup=InlineKeyboardMarkup([
                [InlineKeyboardButton("üîô –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é", callback_data="back_to_main")]
            ])
        )

# ==================== –ß–ê–°–¢–Ü –ü–ò–¢–ê–ù–ù–Ø (FAQ) ====================

async def show_faq_menu(query, context):
    """–ü–æ–∫–∞–∑—É—î –º–µ–Ω—é —á–∞—Å—Ç–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å"""
    try:
        keyboard = [
            [
                InlineKeyboardButton("üí≥ –Ø–∫ –¥–æ–¥–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é?", callback_data="faq_add_transaction")
            ],
            [
                InlineKeyboardButton("üìÑ –Ø–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤–∏–ø–∏—Å–∫—É?", callback_data="faq_upload_statement")
            ],
            [
                InlineKeyboardButton("üè∑Ô∏è –Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é?", callback_data="faq_change_category")
            ],
            [
                InlineKeyboardButton("üì§ –Ø–∫ –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ?", callback_data="faq_export_data")
            ],
            [
                InlineKeyboardButton("üóëÔ∏è –Ø–∫ –≤–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ?", callback_data="faq_clear_data")
            ],
            [
                InlineKeyboardButton("üìé –Ø–∫—ñ —Ñ–æ—Ä–º–∞—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è?", callback_data="faq_file_formats")
            ],
            [
                InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ –¥–æ–ø–æ–º–æ–≥–∏", callback_data="help_menu")
            ]
        ]
        
        text = (
            "üìã **–ß–∞—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è (FAQ)**\n\n"
            "–û–±–µ—Ä—ñ—Ç—å –ø–∏—Ç–∞–Ω–Ω—è, —è–∫–µ –≤–∞—Å —Ü—ñ–∫–∞–≤–∏—Ç—å:\n\n"
            "üí° *–ù–µ –∑–Ω–∞–π—à–ª–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å?* –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ —Ä–æ–∑–¥—ñ–ª—É \"–ö–æ–Ω—Ç–∞–∫—Ç–∏\""
        )
        
        await query.edit_message_text(
            text=text,
            reply_markup=InlineKeyboardMarkup(keyboard),
            parse_mode="Markdown"
        )
        
    except Exception as e:
        logger.error(f"Error in show_faq_menu: {str(e)}")
        await query.edit_message_text(
            "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ FAQ",
            reply_markup=InlineKeyboardMarkup([
                [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥", callback_data="help_menu")]
            ])
        )

# ==================== –í–Ü–î–ü–û–í–Ü–î–Ü –ù–ê –ü–ò–¢–ê–ù–ù–Ø ====================

async def show_faq_add_transaction(query, context):
    """–Ø–∫ –¥–æ–¥–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é"""
    text = (
        "üí≥ **–Ø–∫ –¥–æ–¥–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é?**\n\n"
        "**–ö—Ä–æ–∫ 1:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å \"üí≥ –î–æ–¥–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é\" –≤ –≥–æ–ª–æ–≤–Ω–æ–º—É –º–µ–Ω—é\n\n"
        "**–ö—Ä–æ–∫ 2:** –û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü—ñ—ó:\n"
        "‚Ä¢ ‚ûñ –í–∏—Ç—Ä–∞—Ç–∞ ‚Äî –¥–ª—è –ø–æ–∫—É–ø–æ–∫, –æ–ø–ª–∞—Ç\n"
        "‚Ä¢ ‚ûï –î–æ—Ö—ñ–¥ ‚Äî –¥–ª—è –∑–∞—Ä–ø–ª–∞—Ç–∏, –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω—å\n\n"
        "**–ö—Ä–æ–∫ 3:** –í–∫–∞–∂—ñ—Ç—å —Å—É–º—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: 1500)\n\n"
        "**–ö—Ä–æ–∫ 4:** –û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –∑—ñ —Å–ø–∏—Å–∫—É\n\n"
        "**–ö—Ä–æ–∫ 5:** –î–æ–¥–∞–π—Ç–µ –æ–ø–∏—Å (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)\n\n"
        "**–ì–æ—Ç–æ–≤–æ!** –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è –∑–±–µ—Ä–µ–∂–µ–Ω–∞ üìä\n\n"
        "üí° *–ü—ñ–¥–∫–∞–∑–∫–∞:* –ú–æ–∂–Ω–∞ —Ç–∞–∫–æ–∂ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±–∞–Ω–∫—ñ–≤—Å—å–∫—É –≤–∏–ø–∏—Å–∫—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π"
    )
    
    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ FAQ", callback_data="help_faq")]
    ]
    
    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )

async def show_faq_upload_statement(query, context):
    """–Ø–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±–∞–Ω–∫—ñ–≤—Å—å–∫—É –≤–∏–ø–∏—Å–∫—É"""
    text = (
        "üìÑ **–Ø–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±–∞–Ω–∫—ñ–≤—Å—å–∫—É –≤–∏–ø–∏—Å–∫—É?**\n\n"
        "**–ö—Ä–æ–∫ 1:** –í –º–µ–Ω—é \"üí≥ –î–æ–¥–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é\" –æ–±–µ—Ä—ñ—Ç—å \"üìÑ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤–∏–ø–∏—Å–∫—É\"\n\n"
        "**–ö—Ä–æ–∫ 2:** –û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø —Ñ–∞–π–ª—É:\n"
        "‚Ä¢ PDF ‚Äî –≤–∏–ø–∏—Å–∫–∞ –∑ –±–∞–Ω–∫—É —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF\n"
        "‚Ä¢ Excel ‚Äî —Ç–∞–±–ª–∏—Ü—è –∑ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏\n"
        "‚Ä¢ CSV ‚Äî —Ñ–∞–π–ª –∑ –¥–∞–Ω–∏–º–∏ —á–µ—Ä–µ–∑ –∫–æ–º—É\n\n"
        "**–ö—Ä–æ–∫ 3:** –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π\n\n"
        "**–ö—Ä–æ–∫ 4:** –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞—î –æ–ø–µ—Ä–∞—Ü—ñ—ó\n\n"
        "**–ö—Ä–æ–∫ 5:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å —ñ–º–ø–æ—Ä—Ç\n\n"
        "‚ö†Ô∏è *–í–∞–∂–ª–∏–≤–æ:* –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å –¥–∞—Ç—É, —Å—É–º—É —Ç–∞ –æ–ø–∏—Å –æ–ø–µ—Ä–∞—Ü—ñ–π"
    )
    
    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ FAQ", callback_data="help_faq")]
    ]
    
    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )

async def show_faq_change_category(query, context):
    """–Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –æ–ø–µ—Ä–∞—Ü—ñ—ó"""
    text = (
        "üè∑Ô∏è **–Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –æ–ø–µ—Ä–∞—Ü—ñ—ó?**\n\n"
        "**–í–∞—Ä—ñ–∞–Ω—Ç 1 - –î–ª—è –Ω–æ–≤–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π:**\n"
        "‚Ä¢ –ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –ø—Ä–æ—Å—Ç–æ –æ–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –∑—ñ —Å–ø–∏—Å–∫—É\n\n"
        "**–í–∞—Ä—ñ–∞–Ω—Ç 2 - –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é:**\n"
        "‚Ä¢ –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ \"‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è\" ‚Üí \"üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó\"\n"
        "‚Ä¢ –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å \"‚ûï –î–æ–¥–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é\"\n"
        "‚Ä¢ –û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø (–¥–æ—Ö—ñ–¥/–≤–∏—Ç—Ä–∞—Ç–∞) —Ç–∞ –≤–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É\n\n"
        "**–í–∞—Ä—ñ–∞–Ω—Ç 3 - –í–∏–¥–∞–ª–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é:**\n"
        "‚Ä¢ –í –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –æ–±–µ—Ä—ñ—Ç—å \"üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é\"\n"
        "‚Ä¢ –í–∏–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è\n\n"
        "‚ö†Ô∏è *–í–∞–∂–ª–∏–≤–æ:* –°–∏—Å—Ç–µ–º–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –Ω–µ –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª—è—Ç–∏"
    )
    
    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ FAQ", callback_data="help_faq")]
    ]
    
    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )

async def show_faq_export_data(query, context):
    """–Ø–∫ –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ"""
    text = (
        "üì§ **–Ø–∫ –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –º–æ—ó –¥–∞–Ω—ñ?**\n\n"
        "**–ö—Ä–æ–∫ 1:** –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ \"‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è\"\n\n"
        "**–ö—Ä–æ–∫ 2:** –û–±–µ—Ä—ñ—Ç—å \"üì§ –ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö\"\n\n"
        "**–ö—Ä–æ–∫ 3:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å \"üìä –ï–∫—Å–ø–æ—Ä—Ç –≤ CSV\"\n\n"
        "**–ö—Ä–æ–∫ 4:** –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ñ–∞–π–ª—É\n\n"
        "**–ö—Ä–æ–∫ 5:** –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª, —è–∫–∏–π –±–æ—Ç –Ω–∞–¥—ñ—à–ª–µ –≤ —á–∞—Ç\n\n"
        "**–©–æ –±—É–¥–µ –≤ —Ñ–∞–π–ª—ñ:**\n"
        "‚Ä¢ –í—Å—ñ –≤–∞—à—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó\n"
        "‚Ä¢ –î–∞—Ç–∞, —Å—É–º–∞, –∫–∞—Ç–µ–≥–æ—Ä—ñ—è, –æ–ø–∏—Å\n"
        "‚Ä¢ –§–æ—Ä–º–∞—Ç CSV –¥–ª—è Excel\n\n"
        "üí° *–ü—ñ–¥–∫–∞–∑–∫–∞:* –§–∞–π–ª –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –≤ Excel –∞–±–æ Google Sheets"
    )
    
    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ FAQ", callback_data="help_faq")]
    ]
    
    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )

async def show_faq_clear_data(query, context):
    """–Ø–∫ –≤–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ"""
    text = (
        "üóëÔ∏è **–Ø–∫ –≤–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ?**\n\n"
        "**–ö—Ä–æ–∫ 1:** –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ \"‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è\"\n\n"
        "**–ö—Ä–æ–∫ 2:** –û–±–µ—Ä—ñ—Ç—å \"üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ –¥–∞–Ω—ñ\"\n\n"
        "**–ö—Ä–æ–∫ 3:** –£–≤–∞–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è\n\n"
        "**–ö—Ä–æ–∫ 4:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å \"üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó\"\n\n"
        "**–ö—Ä–æ–∫ 5:** –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –¥—ñ—é –¥—Ä—É–≥–∏–π —Ä–∞–∑\n\n"
        "**–©–æ –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–æ:**\n"
        "‚Ä¢ –í—Å—ñ –≤–∞—à—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó\n"
        "‚Ä¢ –Ü—Å—Ç–æ—Ä—ñ—è –æ–ø–µ—Ä–∞—Ü—ñ–π\n\n"
        "**–©–æ –∑–∞–ª–∏—à–∏—Ç—å—Å—è:**\n"
        "‚Ä¢ –í–∞—à—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó\n"
        "‚Ä¢ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é\n\n"
        "‚ö†Ô∏è **–£–í–ê–ì–ê:** –¶—è –¥—ñ—è –Ω–µ–∑–≤–æ—Ä–æ—Ç–Ω–∞! –ó—Ä–æ–±—ñ—Ç—å –µ–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º!"
    )
    
    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ FAQ", callback_data="help_faq")]
    ]
    
    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )

async def show_faq_file_formats(query, context):
    """–Ø–∫—ñ —Ñ–æ—Ä–º–∞—Ç–∏ —Ñ–∞–π–ª—ñ–≤ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è"""
    text = (
        "üìé **–Ø–∫—ñ —Ñ–æ—Ä–º–∞—Ç–∏ —Ñ–∞–π–ª—ñ–≤ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è?**\n\n"
        "**üìÑ PDF —Ñ–∞–π–ª–∏:**\n"
        "‚Ä¢ –ë–∞–Ω–∫—ñ–≤—Å—å–∫—ñ –≤–∏–ø–∏—Å–∫–∏\n"
        "‚Ä¢ –ß–µ–∫–∏ —Ç–∞ –∫–≤–∏—Ç–∞–Ω—Ü—ñ—ó\n"
        "‚Ä¢ –ó–≤—ñ—Ç–∏ –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–∞–Ω–∫—ñ–Ω–≥—É\n\n"
        "**üìä Excel —Ñ–∞–π–ª–∏ (.xlsx, .xls):**\n"
        "‚Ä¢ –¢–∞–±–ª–∏—Ü—ñ –∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏\n"
        "‚Ä¢ –ï–∫—Å–ø–æ—Ä—Ç –∑ –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤\n"
        "‚Ä¢ –†—É—á–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ —Ç–∞–±–ª–∏—Ü—ñ\n\n"
        "**üìã CSV —Ñ–∞–π–ª–∏ (.csv):**\n"
        "‚Ä¢ –î–∞–Ω—ñ —Ä–æ–∑–¥—ñ–ª–µ–Ω—ñ –∫–æ–º–∞–º–∏\n"
        "‚Ä¢ –ï–∫—Å–ø–æ—Ä—Ç –∑ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤\n"
        "‚Ä¢ –ü—Ä–æ—Å—Ç—ñ —Ç–µ–∫—Å—Ç–æ–≤—ñ —Å–ø–∏—Å–∫–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π\n\n"
        "**–í–∏–º–æ–≥–∏ –¥–æ —Ñ–∞–π–ª—ñ–≤:**\n"
        "‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä: 10 –ú–ë\n"
        "‚Ä¢ –ü–æ–≤–∏–Ω–Ω—ñ –º—ñ—Å—Ç–∏—Ç–∏ –¥–∞—Ç—É, —Å—É–º—É, –æ–ø–∏—Å\n"
        "‚Ä¢ –¢–µ–∫—Å—Ç —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –∞–±–æ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é"
    )
    
    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ FAQ", callback_data="help_faq")]
    ]
    
    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )

# ==================== –ö–û–ù–¢–ê–ö–¢–ò ====================

async def show_contacts(query, context):
    """–ü–æ–∫–∞–∑—É—î –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é"""
    try:
        text = (
            "üìû **–ö–æ–Ω—Ç–∞–∫—Ç–∏ –¥–ª—è –∑–≤'—è–∑–∫—É**\n\n"
            "**üìß Email –ø—ñ–¥—Ç—Ä–∏–º–∫–∏:**\n"
            "`finassist.support@gmail.com`\n"
            "üí¨ –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å, —Å–∫–∞—Ä–≥ —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π\n"
            "‚è±Ô∏è –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ: 24-48 –≥–æ–¥–∏–Ω\n\n"
            "**üí¨ Telegram –ø—ñ–¥—Ç—Ä–∏–º–∫–∞:**\n"
            "`@finassist_support`\n"
            "üí¨ –î–ª—è —à–≤–∏–¥–∫–∏—Ö –ø–∏—Ç–∞–Ω—å —Ç–∞ —Ç–µ—Ö–Ω—ñ—á–Ω–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏\n"
            "‚è±Ô∏è –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ: 2-6 –≥–æ–¥–∏–Ω (—Ä–æ–±–æ—á–∏–π —á–∞—Å)\n\n"
            "**üìù –Ø–∫ –Ω–∞–ø–∏—Å–∞—Ç–∏:**\n"
            "1. –û–ø–∏—à—ñ—Ç—å –ø—Ä–æ–±–ª–µ–º—É –¥–µ—Ç–∞–ª—å–Ω–æ\n"
            "2. –í–∫–∞–∂—ñ—Ç—å, —â–æ –≤–∏ —Ä–æ–±–∏–ª–∏ –ø–µ—Ä–µ–¥ –ø–æ–º–∏–ª–∫–æ—é\n"
            "3. –ü—Ä–∏–∫—Ä—ñ–ø—ñ—Ç—å —Å–∫—Ä—ñ–Ω—à–æ—Ç, —è–∫—â–æ –º–æ–∂–ª–∏–≤–æ\n\n"
            "**‚è∞ –†–æ–±–æ—á–∏–π —á–∞—Å –ø—ñ–¥—Ç—Ä–∏–º–∫–∏:**\n"
            "–ü–Ω-–ü—Ç: 09:00 - 18:00 (–ö–∏—ó–≤—Å—å–∫–∏–π —á–∞—Å)\n"
            "–°–±-–ù–¥: 10:00 - 16:00 (—Ç—ñ–ª—å–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è)"
        )
        
        keyboard = [
            [
                InlineKeyboardButton("üìß –ù–∞–ø–∏—Å–∞—Ç–∏ email", url="mailto:finassist.support@gmail.com"),
                InlineKeyboardButton("üí¨ Telegram", url="https://t.me/finassist_support")
            ],
            [
                InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ –¥–æ–ø–æ–º–æ–≥–∏", callback_data="help_menu")
            ]
        ]
        
        await query.edit_message_text(
            text=text,
            reply_markup=InlineKeyboardMarkup(keyboard),
            parse_mode="Markdown"
        )
        
    except Exception as e:
        logger.error(f"Error in show_contacts: {str(e)}")
        await query.edit_message_text(
            "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤",
            reply_markup=InlineKeyboardMarkup([
                [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥", callback_data="help_menu")]
            ])
        )

# ==================== –ü–†–û –ë–û–¢–ê ====================

async def show_about_bot(query, context):
    """–ü–æ–∫–∞–∑—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –±–æ—Ç–∞"""
    try:
        text = (
            "‚ÑπÔ∏è **–ü—Ä–æ –±–æ—Ç–∞ FinAssist**\n\n"
            "**ü§ñ –í–µ—Ä—Å—ñ—è –±–æ—Ç–∞:** `v2.1.0 MVP`\n"
            "**üìÖ –î–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 26 —Ç—Ä–∞–≤–Ω—è 2025\n\n"
            "**üéØ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**\n\n"
            "**üí≥ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏:**\n"
            "‚Ä¢ –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ—Ö–æ–¥—ñ–≤ —Ç–∞ –≤–∏—Ç—Ä–∞—Ç\n"
            "‚Ä¢ –Ü–º–ø–æ—Ä—Ç –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏—Ö –≤–∏–ø–∏—Å–æ–∫\n"
            "‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—è\n\n"
            "**üìä –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –∑–≤—ñ—Ç–∏:**\n"
            "‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö\n"
            "‚Ä¢ –ì—Ä–∞—Ñ—ñ–∫–∏ —Ç–∞ –¥—ñ–∞–≥—Ä–∞–º–∏\n"
            "‚Ä¢ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–µ—Ä—ñ–æ–¥—ñ–≤\n\n"
            "**üí∞ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—é–¥–∂–µ—Ç–æ–º:**\n"
            "‚Ä¢ –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –º—ñ—Å—è—á–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç—É\n"
            "‚Ä¢ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç\n"
            "‚Ä¢ –§—ñ–Ω–∞–Ω—Å–æ–≤—ñ –ø–æ—Ä–∞–¥–∏\n\n"
            "**‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**\n"
            "‚Ä¢ –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó\n"
            "‚Ä¢ –í–∏–±—ñ—Ä –≤–∞–ª—é—Ç–∏\n"
            "‚Ä¢ –ï–∫—Å–ø–æ—Ä—Ç —Ç–∞ –æ—á–∏—â–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö\n\n"
            "**üîí –ë–µ–∑–ø–µ–∫–∞:**\n"
            "‚Ä¢ –í—Å—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ\n"
            "‚Ä¢ –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó\n"
            "‚Ä¢ –í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å GDPR"
        )
        
        keyboard = [
            [
                InlineKeyboardButton("üìã –©–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–µ—Ä—Å—ñ—ó", callback_data="about_changelog"),
                InlineKeyboardButton("üõ°Ô∏è –ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å", callback_data="about_privacy")
            ],
            [
                InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ –¥–æ–ø–æ–º–æ–≥–∏", callback_data="help_menu")
            ]
        ]
        
        await query.edit_message_text(
            text=text,
            reply_markup=InlineKeyboardMarkup(keyboard),
            parse_mode="Markdown"
        )
        
    except Exception as e:
        logger.error(f"Error in show_about_bot: {str(e)}")
        await query.edit_message_text(
            "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó",
            reply_markup=InlineKeyboardMarkup([
                [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥", callback_data="help_menu")]
            ])
        )

async def show_changelog(query, context):
    """–ü–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ –∑–º—ñ–Ω –≤ –ø–æ—Ç–æ—á–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó"""
    text = (
        "üìã **–©–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–µ—Ä—Å—ñ—ó v2.1.0**\n\n"
        "**‚ú® –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:**\n\n"
        "**‚öôÔ∏è MVP –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**\n"
        "‚Ä¢ –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó (–¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è)\n"
        "‚Ä¢ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–æ—ó –≤–∞–ª—é—Ç–∏\n"
        "‚Ä¢ –ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö –≤ CSV —Ñ–æ—Ä–º–∞—Ç\n"
        "‚Ä¢ –û—á–∏—â–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π\n\n"
        "**‚ùì –°–∏—Å—Ç–µ–º–∞ –¥–æ–ø–æ–º–æ–≥–∏:**\n"
        "‚Ä¢ –ß–∞—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è (FAQ)\n"
        "‚Ä¢ –ö–æ–Ω—Ç–∞–∫—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏\n"
        "‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –±–æ—Ç–∞\n\n"
        "**üîß –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**\n"
        "‚Ä¢ –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–µ –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é\n"
        "‚Ä¢ –®–≤–∏–¥—à–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –º—ñ–∂ —Ä–æ–∑–¥—ñ–ª–∞–º–∏\n"
        "‚Ä¢ –ö—Ä–∞—â—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏\n"
        "‚Ä¢ –ü—ñ–¥–≤–∏—â–µ–Ω–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏\n\n"
        "**üìÖ –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –≤–µ—Ä—Å—ñ—ó:**\n"
        "‚Ä¢ v2.0.0 - –°–∏—Å—Ç–µ–º–∞ –±—é–¥–∂–µ—Ç—É–≤–∞–Ω–Ω—è\n"
        "‚Ä¢ v1.9.0 - –†–æ–∑—à–∏—Ä–µ–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞\n"
        "‚Ä¢ v1.8.0 - –Ü–º–ø–æ—Ä—Ç –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏—Ö –≤–∏–ø–∏—Å–æ–∫"
    )
    
    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ \"–ü—Ä–æ –±–æ—Ç–∞\"", callback_data="help_about")]
    ]
    
    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )

async def show_privacy_policy(query, context):
    """–ü–æ–∫–∞–∑—É—î –ø–æ–ª—ñ—Ç–∏–∫—É –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ"""
    text = (
        "üõ°Ô∏è **–ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ**\n\n"
        "**üîí –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö:**\n"
        "‚Ä¢ –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ –≤–∏ –¥–æ–¥–∞—î—Ç–µ\n"
        "‚Ä¢ Telegram ID –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó\n"
        "‚Ä¢ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é (–≤–∞–ª—é—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó)\n\n"
        "**üìä –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:**\n"
        "‚Ä¢ –¢—ñ–ª—å–∫–∏ –¥–ª—è –ø–æ–∫–∞–∑—É –≤–∞—à–æ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏\n"
        "‚Ä¢ –ù–µ –ø–µ—Ä–µ–¥–∞—î–º–æ —Ç—Ä–µ—Ç—ñ–º –æ—Å–æ–±–∞–º\n"
        "‚Ä¢ –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –¥–ª—è —Ä–µ–∫–ª–∞–º–∏\n\n"
        "**üîê –ë–µ–∑–ø–µ–∫–∞:**\n"
        "‚Ä¢ –í—Å—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –∑–∞—Ö–∏—â–µ–Ω—ñ–π –±–∞–∑—ñ\n"
        "‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó\n"
        "‚Ä¢ –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó\n\n"
        "**‚úã –í–∞—à—ñ –ø—Ä–∞–≤–∞:**\n"
        "‚Ä¢ –ï–∫—Å–ø–æ—Ä—Ç –≤—Å—ñ—Ö –≤–∞—à–∏—Ö –¥–∞–Ω–∏—Ö\n"
        "‚Ä¢ –ü–æ–≤–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é\n"
        "‚Ä¢ –ó–º—ñ–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ\n\n"
        "**üìû –ü–∏—Ç–∞–Ω–Ω—è –∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ:**\n"
        "–ù–∞–ø–∏—à—ñ—Ç—å –Ω–∞: `privacy@finassist.support`"
    )
    
    keyboard = [
        [InlineKeyboardButton("üîô –ù–∞–∑–∞–¥ –¥–æ \"–ü—Ä–æ –±–æ—Ç–∞\"", callback_data="help_about")]
    ]
    
    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )
