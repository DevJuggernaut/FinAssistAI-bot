from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ContextTypes

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ù–∞–¥—Å–∏–ª–∞—î –≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏ –∫–æ–º–∞–Ω–¥—ñ /start."""
    user = update.effective_user
    
    # –°—Ç–≤–æ—Ä—é—î–º–æ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É –∑ –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–∏—Ö –¥—ñ–π
    keyboard = [
        [
            InlineKeyboardButton("üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", callback_data="stats"),
            InlineKeyboardButton("üí∞ –î–æ–¥–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é", callback_data="add_transaction")
        ],
        [
            InlineKeyboardButton("üóÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó", callback_data="categories"),
            InlineKeyboardButton("üìù –ó–≤—ñ—Ç–∏", callback_data="reports")
        ],
        [
            InlineKeyboardButton("‚ùì –î–æ–ø–æ–º–æ–≥–∞", callback_data="help")
        ]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await update.message.reply_html(
        f"–ü—Ä–∏–≤—ñ—Ç, {user.mention_html()}! üëã\n\n"
        f"–Ø –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –ø–æ–º—ñ—á–Ω–∏–∫. –Ø –¥–æ–ø–æ–º–æ–∂—É –≤–∞–º:\n"
        f"‚Ä¢ –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç–∏ —Ç–∞ –¥–æ—Ö–æ–¥–∏\n"
        f"‚Ä¢ –ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±–∞–Ω–∫—ñ–≤—Å—å–∫—ñ –≤–∏–ø–∏—Å–∫–∏\n"
        f"‚Ä¢ –ö–∞—Ç–µ–≥–æ—Ä–∏–∑—É–≤–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó\n"
        f"‚Ä¢ –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó\n\n"
        f"–û–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—é –Ω–∏–∂—á–µ –¥–ª—è –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏:",
        reply_markup=reply_markup
    )

async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ù–∞–¥—Å–∏–ª–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—Ä–∏ –∫–æ–º–∞–Ω–¥—ñ /help."""
    help_text = (
        "ü§ñ *–û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:*\n"
        "/start - –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞\n"
        "/help - –ü–æ–∫–∞–∑–∞—Ç–∏ —Ü–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è\n"
        "/stats - –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É\n"
        "/add - –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é\n"
        "/report - –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç\n\n"
        
        "üìã *–Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å:*\n"
        "‚Ä¢ –ù–∞–¥—ñ—à–ª—ñ—Ç—å —Ñ–æ—Ç–æ —á–µ–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è\n"
        "‚Ä¢ –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –±–∞–Ω–∫—ñ–≤—Å—å–∫—É –≤–∏–ø–∏—Å–∫—É (.csv, .pdf, .xlsx)\n"
        "‚Ä¢ –ù–∞–ø–∏—à—ñ—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é —Ç–µ–∫—Å—Ç–æ–º, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: '–ö–∞–≤–∞ 45 –≥—Ä–Ω'\n\n"
        
        "üîç *–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:*\n"
        "‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó\n"
        "‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—è –≤–∏—Ç—Ä–∞—Ç\n"
        "‚Ä¢ –í—ñ–∑—É–∞–ª—å–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –≤–∞—à–∏—Ö —Ñ—ñ–Ω–∞–Ω—Å—ñ–≤"
    )
    
    await update.message.reply_markdown(help_text)