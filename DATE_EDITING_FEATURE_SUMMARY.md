# üìÖ –î–û–î–ê–ù–û –§–£–ù–ö–¶–Ü–û–ù–ê–õ–¨–ù–Ü–°–¢–¨ –†–ï–î–ê–ì–£–í–ê–ù–ù–Ø –î–ê–¢–ò –¢–†–ê–ù–ó–ê–ö–¶–Ü–á

## ‚úÖ –©–æ –±—É–ª–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:

### 1. –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤ `handlers/transaction_handler.py`:

- **`handle_edit_date(query, context)`** - –ø–æ–∫–∞–∑—É—î –º–µ–Ω—é –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –¥–∞—Ç–∏
- **`handle_set_date(query, context)`** - –∑–±–µ—Ä—ñ–≥–∞—î –Ω–æ–≤—É –¥–∞—Ç—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó

### 2. –§—É–Ω–∫—Ü—ñ—ó –≤ `handle_edit_date`:

- üìÖ **–®–≤–∏–¥–∫–∏–π –≤–∏–±—ñ—Ä –¥–∞—Ç:**
  - –°—å–æ–≥–æ–¥–Ω—ñ
  - –í—á–æ—Ä–∞
  - –ü–æ–∑–∞–≤—á–æ—Ä–∞
- ‚úèÔ∏è **–†—É—á–Ω–µ –≤–≤–µ–¥–µ–Ω–Ω—è –¥–∞—Ç–∏** (—Ñ–æ—Ä–º–∞—Ç: –î–î.–ú–ú.–†–†–†–†)

### 3. –§—É–Ω–∫—Ü—ñ—ó –≤ `handle_set_date`:

- ‚ö° **–®–≤–∏–¥–∫–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –¥–∞—Ç
- üìù **–û–±—Ä–æ–±–∫–∞ —Ä—É—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è** –¥–∞—Ç–∏ —á–µ—Ä–µ–∑ `date_manual`
- ‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞—Ç–∏** (–Ω–µ –¥–æ–∑–≤–æ–ª—è—î –º–∞–π–±—É—Ç–Ω—ñ –¥–∞—Ç–∏)
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è** –¥–æ –º–µ–Ω—é —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è

### 4. –û–Ω–æ–≤–ª–µ–Ω–æ `handlers/message_handler.py`:

- –î–æ–¥–∞–Ω–æ –æ–±—Ä–æ–±–∫—É –ø–æ–ª—è `editing_field == 'date_manual'`
- –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç—ñ –î–î.–ú–ú.–†–†–†–†
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–µ–¥–µ–Ω–∏—Ö –¥–∞—Ç
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –º–∞–π–±—É—Ç–Ω—ñ –¥–∞—Ç–∏

### 5. –û–Ω–æ–≤–ª–µ–Ω–æ `handlers/callback_handler.py`:

- –î–æ–¥–∞–Ω–æ —ñ–º–ø–æ—Ä—Ç –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- –î–æ–¥–∞–Ω–æ –æ–±—Ä–æ–±–∫—É callback'—ñ–≤:
  - `edit_date_*` ‚Üí `handle_edit_date`
  - `set_date_*` ‚Üí `handle_set_date`

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—î–º—ñ callback'–∏:

```
edit_date_{transaction_id}                    # –í—ñ–¥–∫—Ä–∏–≤–∞—î –º–µ–Ω—é —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –¥–∞—Ç–∏
set_date_today_{transaction_id}               # –í—Å—Ç–∞–Ω–æ–≤–ª—é—î —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—é –¥–∞—Ç—É
set_date_yesterday_{transaction_id}           # –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –≤—á–æ—Ä–∞—à–Ω—é –¥–∞—Ç—É
set_date_day_before_yesterday_{transaction_id} # –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –ø–æ–∑–∞–≤—á–æ—Ä–∞—à–Ω—é –¥–∞—Ç—É
set_date_manual_{transaction_id}              # –í—ñ–¥–∫—Ä–∏–≤–∞—î —Ä—É—á–Ω–µ –≤–≤–µ–¥–µ–Ω–Ω—è –¥–∞—Ç–∏
```

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞—Ç–∏:

- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç: –î–î.–ú–ú.–†–†–†–†
- ‚úÖ –†–µ–∞–ª—å–Ω—ñ –¥–∞—Ç–∏ (–Ω–µ 32.13.2025)
- ‚úÖ –ù–µ –º–∞–π–±—É—Ç–Ω—ñ –¥–∞—Ç–∏
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ (–ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É)

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö:

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `update_transaction()` –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
- –ü–µ—Ä–µ–¥–∞—î `transaction_date` —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é –≤ –ë–î

### UX/UI:

- üìÖ –ó—Ä—É—á–Ω—ñ —à–≤–∏–¥–∫—ñ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –¥–∞—Ç
- ‚úèÔ∏è –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç—ñ
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –º–µ–Ω—é –ø—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
- ‚ùå –ß—ñ—Ç–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏

## üêõ –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏:

- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–º–∏–ª–∫—É `current_category` –Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–æ –≤ `handle_change_category`

## üß™ –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ:

- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ –¥–∞—Ç
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–∞–π–±—É—Ç–Ω—ñ—Ö –¥–∞—Ç
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–µ—ñ—Å–Ω—É—é—á–∏—Ö –¥–∞—Ç
- ‚úÖ Callback'–∏ –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞—Ç–∏

---

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –¥–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –∑–∞–º—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è "üöß –§—É–Ω–∫—Ü—ñ—è –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ".
